<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- displays site properly based on user's device -->

        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="./assets/images/favicon-32x32.png"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
            integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <title>Frontend Mentor | Mortgage repayment calculator</title>

        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="container">
            <div class="repaymentForm">
                <form action="" method="POST" id="formRepay">
                    <div class="repaymentFormHeader">
                        <h2>Mortgage Calculator</h2>
                        <p>Clear All</p>
                    </div>

                    <div class="repaymentFormContainer">
                        <div class="repaymentFormGroupRow">
                            <div class="repaymentFormGroup">
                                <label for="mortgageAmount">
                                    Mortgage Amount</label
                                >
                                <input
                                    type="text"
                                    name="mortgageAmount"
                                    id="mortgageAmount"
                                    rules="required"
                                />
                                <span id="mortgageAmount"></span>
                                <p class="validMessage"></p>
                            </div>
                        </div>

                        <div class="repaymentFormGroupRow">
                            <div class="repaymentFormGroup">
                                <label> Mortgage Term</label>
                                <input
                                    type="text"
                                    name="mortgageTypeTerm"
                                    id="mortgageTerm"
                                    rules="required"
                                />
                                <span id="mortgageTerm"></span>
                                <p class="validMessage"></p>
                            </div>

                            <div class="repaymentFormGroup">
                                <label> Interest Rate</label>
                                <input
                                    type="text"
                                    name="mortgageTypeInterestRate"
                                    id="mortgageInterestRate"
                                    rules="required"
                                />
                                <span id="mortgageInterestRate"></span>
                                <p class="validMessage"></p>
                            </div>
                        </div>
                        <div class="repaymentFormGroup">
                            <label>Mortgage Type</label>
                            <div class="repaymentFormMortgageType">
                                <input
                                    type="radio"
                                    name="mortgageType"
                                    id="mortgageTypeRepayment"
                                    value="Repayment"
                                    rules="required"
                                />
                                <label for="mortgageTypeRepayment"
                                    >Repayment</label
                                >
                            </div>
                            <div class="repaymentFormMortgageType">
                                <input
                                    type="radio"
                                    name="mortgageType"
                                    id="mortgageTypeInterest"
                                    value="Interest Only"
                                    rules="required"
                                />
                                <label for="mortgageTypeInterest">
                                    Interest Only
                                </label>
                            </div>
                            <p class="validMessage"></p>
                        </div>
                    </div>
                    <div class="btnCalculator">
                        <img
                            src="./assets/images/icon-calculator.svg"
                            alt="No icon"
                            id="buttonIcon"
                        />
                        <button>Calculate Repayments</button>
                    </div>
                </form>
            </div>

            <!-- Empty results start -->
            <div class="repaymentResult">
                <div class="repaymentResult--No">
                    <img
                        src="./assets/images/illustration-empty.svg"
                        alt="No image"
                    />
                    <h2>Results shown here</h2>

                    <p class="repaymentResultContent">
                        Complete the form and click “calculate repayments” to
                        see what your monthly repayments would be.
                    </p>
                </div>

                <!-- Empty results end -->

                <!-- Completed results start -->

                <!-- <div class="repaymentResult--Yes">
                    <h2>Your results</h2>

                    <p class="repaymentResultDes">
                        Your results are shown below based on the information
                        you provided. To adjust the results, edit the form and
                        click “calculate repayments” again.
                    </p>

                    <div class="repaymentResult--Yes__container">
                        <div class="repaymentResultMonth">
                            <p class="repaymentResultMonth--title">
                                Your monthly repayments
                            </p>
                            <p class="repaymentResultMonth--result">
                                $1,797.74
                            </p>
                        </div>
                        <div class="repaymentResultTotal">
                            <p class="repaymentResultTotal--title">
                                Total you'll repay over the term
                            </p>
                            <p class="repaymentResultTotal--result">
                                $539,322.94
                            </p>
                        </div>
                    </div>
                </div> -->
                <!-- Completed results end -->
            </div>
        </div>

        <script src="http://localhost:8086/validator.js"></script>
        <script>
            const paymentForm = new Validator('#formRepay', {
                errorElement: '.validMessage',
            });

            paymentForm.onSubmit = data => {
                console.log(data);
                const repaymentResult =
                    document.querySelector('.repaymentResult');

                repaymentResult.removeChild(
                    repaymentResult.querySelector(
                        `.${repaymentResult.children[0].className}`
                    )
                );
                const result = document.createElement('div');
                result.classList.add('repaymentResult--Yes');
                result.innerHTML = `
                    <h2>Your results</h2>
                    <p class="repaymentResultDes">
                        Your results are shown below based on the information
                        you provided. To adjust the results, edit the form and
                        click “calculate repayments” again.
                    </p>

                    <div class="repaymentResult--Yes__container">
                        <div class="repaymentResultMonth">
                            <p class="repaymentResultMonth--title">
                                Your monthly repayments
                            </p>
                            <p class="repaymentResultMonth--result">
                                $1,797.74
                            </p>
                        </div>
                        <div class="repaymentResultTotal">
                            <p class="repaymentResultTotal--title">
                                Total you'll repay over the term
                            </p>
                            <p class="repaymentResultTotal--result">
                                $539,322.94
                            </p>
                        </div>
                    </div>`;
                repaymentResult.appendChild(result);
            };
        </script>
    </body>
</html>
